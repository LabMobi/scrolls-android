# Has a separate flows for develop branch (automatic builds),
# Merge Request (automatic builds) and master branch Release builds (manual builds) and Publishing builds (manual builds).
definitions:
  artifacts: &androidArtifacts # Section def
    - emulator.log
    - scrolls-lib/build/reports
    - scrolls-lib/build/outputs/androidTest-results
    - scrolls-lib/build/outputs/logs
    - scrolls-lib/build/outputs/aar/*.aar
    - scrolls-sample-java/build/outputs/apk/**/*.apk
  debug-emails: &debugEmails
    - harri.kirik@lab.mobi
  release-emails: &releaseEmails
    - harri.kirik@lab.mobi
  scripts:
    # Local setup
    - &stepLocalSetup
      name: Set up local properties and permissons
      script: |
        chmod +x gradlew
        echo "sdk.dir=$HOME/programs/android-sdk-macosx" > "$FCI_BUILD_DIR/local.properties"
    # Build DEBUG
    - &stepBuildDebug
      name: Build Debug
      script: ./gradlew buildAllDebug
    # Build RELEASE
    - &stepBuildRelease
      name: Build Release
      script: ./gradlew buildAllRelease
    # Build PUBLISH
    - &stepBuildPublish
      name: Build Release and Publish
      script: |
        echo Encrypted(Z0FBQUFBQmdicXZOSE16MmdkeTZNM2paQVdmV1Z3NVBOdk1ObmtjcHc5S1J0aHl1UVdWX1FIN0xKQlBXM2o4OFlYNVBaVDlQdUMyMkRmSlhMdkZ5OW1PRTIwX1ZwaFNWU0VRbU1nYXB6ZEdJLVlhS29FTWVRWC03ZVZHb0VUU2MtWUUyd0R3NzlzUTMybmhsNU5oSHdOT29IZ0ZBRUJmZWxlS3JkczVVM2hva25qUFRiQXlOaGVtU1lKTnBsZndnM2lwaThVdlhBbmJ5Z1JYclY0ZmhpVUljWC03aXo4LXNOWDZ1bk5wdWN6QnpUNnBxSXo3T1BmR1dGaElENGxGMnc3aTUyejFRWmJwUjdrYWo5TTRCdm1ILV9OUHBiTVFaQ0JYTUQtZC1XQ21CZEZVQVd1NmxPczVkNzRiMFZnc0FwVWlQdDhrWnctSGlGUFAzUkJIazRPV0pXNmhub1pxQVlDWlZLOVVucnBXOGpmV0xnRE91RnZxUUhYYnZzVTJIdkhydURnalhEVmJrdGZzeHJZOXEzaW5tRWUtY2Vac1EtN0JhZVJmS2lBRlhiX1J5NnhWUDE3Uk1PRDRQSWJKVnNkLU9OY0k5UGdXNXhralRDVmNqNmhILWFhUTNMVEFWUGFpdzJRUm9lYVJpNXVGZXdudnRMSzFMMm1xdm1BWnlDUTZaMEdnMHBTNkNwajNCc0dSM2xHaDUwNEc0eWNWekxQZ1JVdEdyNEZjQm54N2xtWkt1WkRxQ3FCc2tIMENjeW1iZVo3R0Z3VUNNbVAxN1FvZHRQX0kxeGNNYUR1SUhJa0pma1BCcUN4RXZxS2dUdHZqUlpiaVVGaThxUGZ0ajI1dnFOY0ZsUUVhblQzVXRzWEtiM2VnMGV6Qmx4LVJYMFZxSmEyOUpVZDJIcFlxVTZBUjBrS3VldTU2dGdfTFZ2OGVrbnlDOEZ3YVM0M1J2cUptZGVqbk80ZnY4ZjVjR1U2MWJqOUVBdXR0LVZFdWpmc3FNV19pbWJuZVlqN3R5OHV4MWtPUFlQTHdDYm1Sb0x4ZjdJZWYzalppQzNrdlZFNUxiNE15WVE1T1F3VmtGSTI2VkVzSGFIbEFVdzM5bXN5UFVvMGNQOTF5SUJGcE1tUlhFZncwdFhMaVkwZUFzRjByTDJQZlp0RU05OHVJMXI4YU5DYUtNUWIwZDdvRElQaHNJRlVSSUlnSDVDdmZEQnB3ZG8wd210eTVRd2Q1LTBOODdUeTBRV1Z3OUJaNTVCaTM0Vm9oM2tVVE4zeUlvUzE3OGhveGM0VzhxVkl2YTJ6OXA5VlFXZzJaVFFnQ1E2MFMtbkFkSGduaE92OERicUQyU3BVbkN2OVZ1WmZCT2xTLTBoMGFLd2w4Z0RreHVrS0lmYTV6MHNwbGJyY2dweE5DTXBKeWhtZG5FWkJVMXlRQVFha3lwRGpNY2E2Q0VBcWdWUFBRbXYweUc3XzgtNFNqeXZiZlZMUGlEVnE2X2g1cnZBUDVNaHUySTVoXzlTSHYyNXBXWEN3VVpCd05IOHJ2WHRXSFdZVXl1b1pyX1RRNFNIVDNKVmFrVlZVLTVPX0g3OFpXak5yN3ZVZUVnelh5ZWMxOHVOZnUzRHpLRk03WVVIMUt0VGtnNnh4NkhWNE1aNGdQeXRyZWN4djYxaXZuYjdjRUlBYi1DZWlVa1lrdzRQM2F4WFhnaVBSOVMtcllnLUhXVjJLV083SzVJS0xmY21UNG9jMGlIczgxSXNUakI1dm9IX1l4RURDcGpZbXpVZ3RoYmExYUJ4WVZscXpLQ0x4LVFWbzVuU1dMNUNGdjJSX3JVUDZmSTNVN042eXczYW5GaWtadERjX2wxOFF0TjBFSkxiOFlvNHBtUmZCeXo0NzgtbTR3ellPcjNHS0xPNjZ4bTAxM1N4MW9UclkzY09YYVpuU2xMcFlINTBpWFV0VXpBRTZwUVNaR2FmNWhmRVBiZjB5TzAyUEp1bjFBZ3hEVXRlWXoyUkplQ3VTWGp0djBhNTZCeGU3LU5lbnptMTRZYUY5RlhsX21EYkV5R2tMSVZaQTV2ak40d0tkU2xxUjZzRHFNa2JRZlA5WDRycG9xLVBNYlFQU0hXN2VHZlE3ckR2NGc4X25nWWpxd0VYTDVER05USUlBc2NJcWtYSFdSUGI1ZEdmaDdzWkRyYm9VdnJBQU1hS1dtcnFmM1c1V2RreTluanBWWXE5ZVNkdEtQdnJqRjNacGIzdC1jWGg1WDEtMHJ0SVF5SEg3UGdxNFZpakZvODdSanNhTElRZUZqa09hcE0wMGdwSk40UGZrN25pSDduVEwyd3d0MTlaQ3lKQ0xuekV4aE9rUDRKQWdIYnJWTl9GWnFiZ0x5VHk4c2xTMTQyNE1GclNURkZHb1k1TFk5cjQ5YjVtd2tpTFJseGxOTDBNRE1ZdFNXbzlPcHg5dVU3M1MwNk1MaTZId3lKUjlpSFI5UU4xYXV6NGxtUmpLdXQ0UTd5Y3BxMGo4RWhQNHU3Q0NJOUxqLWhEU1A0ajNSRWlPRnJ0WGVzWE1LQ0I0bi05dG4wYUxUUWtsSHhvVFl4SmF6TEVGZG16TWRHck5NZGxmcVpjczVzUzdfSW1XMmNlNTBzbEJ6LWtkRC1weWV5T2J2WXdXTW5iM0taSDNxdVFTT3VYSHVxNnY4QTktc0h6ZWdNVHJoWGlacnlmVnRXNkthdHA4VWhiYjVZR2NzdmhpTlFrRDc1WEY1UXJmY1laUUhNTjRlVXpKZjRtdE9CV25RNmlOYTkyWTV1anF0Q2w5ZTBFb3UtOVU3bU1zRnpEUVpJOVR3VnRyQU11clBORkp4eWg2UVVaVjVSbm9HeGlHYjRJeFludGo2cFZCaXJBZmxJZUh6VEpIMUo2V0RTQXBWNDRuMUNnaWhtQTB3MDBfSlRLcHBPQy1xZm5wR1g4b2p6a3pqSnJqOE5zeWtjbmF6Q1dEZ2JnVUhzSlhDZDJLelFzWkFVcGxLdklGZXFjVGVPWlUtZmdONzVzNkJCTXFVMDRSdUR0aW1uRFc4bGowY2VYdWVMaHlMMHJiQndqOERQQ3NjWEhQTUQxNEFBSXJPNUlGdFM3RWl6cmNNSzNfN2lIa045UHBWc0Frd0xnM1ZhUW9FcGRXV05WMUQ4cGNHSVVVX21Ob1ZobEU3RS1oMkZZak5uUk81QTdqWWoyQ2NYay1nNVB5SXk0ejE5b2xTUGZOQVJUMHJIZ3VCVHA4NDQyREU1T3hvbVJkV1JveERmMmFJYmxfS3FIemxtMXZMZGY2dHhsRkFQQXNzVzJBb2xITFRDcHBJcUNubFhMbThkVzFsRVZqVHZlZjdvckg2dUlqamRQR1ZYOHVGNkpTVkg1QkRSVlNNZmJERFE0Y19lVjIxQXlwa2RMVFNramxkVUctbW11WWFpNy1haVhCSzJNWkZzUVhIRXVMOVYxWlVxRDNyY0JDUTRuNWoyb1dYSlIybDQtV3p1WGxZUjlqd1VnblBYbUVsWEg4QVJCQ2p0Mi1QekdpRndpZV9CWlMtRE1zdThfRzFRZ0lQQVkwTUY0SHVOcWxjRmpjNGd6WWMya2VobW16Zmgxa1c4bGFnTXhNVFFkM2w4UzMzRjdCeXJiRUFyUHQ4OHRicDYwbTZTc2JIOUZrRmZSeFZEQVJIanJyZnE4QV9BZ1JaVlUxak5tMVl0V0R4bHU5S2FBWUVfVDh2djFodmV3SVVabDEwSTI4aWhwd3E5bzRuQWp6bHB5UmVobm5rRHdfZ193T3g2RkxnNXd0WkFZdi1vbW5LbDZBVWNGall3dmtYalZ2SkVlVEVoN3JPRHVTRWJTclBSZDRPS1pzZVJyZ3RhakVCWnFKdldBT0lVWEk2bnV0SC15T3hzU1l5bEI4Wk5UbE8yYldvc0VTYkY1R1BGSkhUc25ENzFnTjRBRnliNmtkMzgyYmh6OEdKWUpGRE1UN0Y2VjZNWUJoaTM0NlNDRUhleFhpX3dPakZHeHVPNkhjZDdRX0dJbzhqbWV1a1kwbVpwUnBlcmtkUzNGbWR4NHl0R2VuZi13czVOLVhnU3E2V1dyUXdoMzloZENGc0pJeGQwS09oaXpCUE1IWFBZTUxtMFR5Rnk2cnNLQUpZOGZfdXZKVjhJRjVpYjZnbEdXMWE0bU1VMDg0QUdjM2dDUktTWVJTMWlXbXNsNDFyUXlKei03dDItbkdXcC1LSEtfemlBT2MyRlRXZVN1ellNa0dncEotcVBZRVQ5R244eTAzNFFreEx1ak5kNGFhU0JTSktoTURHS1gtNGZTMG9PZDlUYnFwUXBXUXBsOWdZaDNLcUdEaFNKaTVYWi1rWkZnR2h0clRNRkRZZnFUUFU4d2lRUUdkTDNDb1ZVbloxVlh5TTE3bWNiMEZPeDdGOVhWdmxZU1dQTzMxVHBQWjcwcDIzZUw4LXpkUF8wNGxYN0JjeV83VDVHejcwMmxPZi05aWVHZmxLM1ZqOXU5UExGaWlmT0R0X2RySE0yQ1pXUGVCU01BOU53RFBoN0N0aDNKdUg1Znh4ajhSX3dnSTNKNmpsRzJWWGRwSGlSLUxvbzdsUE5fbk05THBWQjFvcFZyR21nZ1pGa1I2azhWYXNoNmd5TENMTTRXV0h5ZXNmd3MtUG5rS1djQ3Bsb1lfX1FvaldFV2JUcGUzNUJ5aU5ZeWY5aE83TVlBNW0ya0ppOGlPaDhuY2JRc1YxMzIwRWY4bkFINm5DakxKYThsLWZQTW1meDhJeWtleTZYRnEzSmxaNWlvVXlLMGZ3ZzVlaEJhUnNwYkFTcjEwaGRfRzh5ckhpYVBzNjA0ZElmdzhmU0VITGlFRnFnelcxZlhuRzlXMlhOY0xtWE1RY1pHQlN2ZFRvZHBoT2hTdzlsVmlmTlE5bWRDcTB3NDZOTzZ2N3lXM3h4WUhrOUFra3ZvblJaM3huRThQVnNBNVNBeV94Uk1pNDJUTGNOUEROOHhtV3RrSlY0MFZ0WmV1SkFncFUzTmJmV0hSQXhHMXBZRG11TlZQME12UDR5cnhTS0xES19taWtPOGZsM2gtTFUwa2packxjT3lSajZMV0hxTGRLN0p5MkgyMmlBR3piV2g3VzhENUlWUnhSWEdYNWdVd3hPV0Z3S1RsZWNFWml1YkZEelJua3ZPOWZqVG42UFF5OWNfUm9QQkxGLWY0OElNakJ6NXQzdDNLQWxqcVIxZk9HQW5qUHBmNWMzcHdYNk9kZ0I1OC1HQXR6M2NXTUtXXzUzSVZWZlFjMnRTVTBsZUlfXzdwNDk3OUw5ZTltRm9ybzBEdUNwZXBCd2NkOVp6TUxaNHJFczVsbFRrRmhENE5YdENvaVU1NWdpWnEwM0xfTXQyUWhONENzVkxjMFNCQm93S1BMWWNNSGJ0VEJ5MFhzZlpwbm1sQkVnUUV5WjAyYmNmRGNQTHBCWmUxMy10eXUyY01BR0R2VjA0cXJ4Z1Bac3hORzNFUjh1S1ExNHloYXlmREJDN2JTa3Q3cDdWU08wcVNveHlkSEFNODB3QW9rd3VSSGlTU3BJUEhoV09HMndId1FGV2NnMm1GU0IwdTBqZmQ2M3NsNDNOOXMwc2RmR3c0TW96YnV6aFVwdkNSRzhPbmxkd2FSUWZNWVY0QTdCelBRdnphLWlQMEh2VEl1cGN3a3ZNSVVQOFB5Y3JVVW1EaktrNUtYM3BVR2xNR2QyWUlEQ1JLSzFUZG5mSGVBcWJzd0Y4RHgwY1ozWlE1Tjk3RElKMW9HMndFTG5mcHc3LXVoZWtNeDg0cXhZb3p5QzBSTGpFcmtLb2VEd1lhMi0zdFczUDJrT1JsM2NmTHgxaGwtYjB5YU9CaUdQUWhESGo0UXo2dUVYWGxPTkhTS3BHUnQ5U05GVXh4emhKWEU1dFJ1OHZNb2tKNndnd2pEeUg2NG1KRzRXcnUwZk4yR0EyS2JMTUtBdEx4aThRSHNpVndyVm9sd21MaEtCZFZyUTJCd0dScnBWbE00N0NTZXJRZG5qS3pDTGtmUFRBRnVWUm8yM0lXSTZrVUI2TGJIb3dvNG5HZFlnbVhyMkFrcS1ESDRMWDEyZEJnUWNyZ01xVjBxenZ4YV9raFZwQ2xjU1JMMjV4MWtOUEZ0eGNnLS1QTUxmZWZuYnA1RVpmV0E5ZWU0YzZEUVd5UDJoMWVpMzM1Q3IycThuSFV1VTlDd0JxVnZIa29KVENpQWJIVkMxZEtCWDNSQVVLdFhfb3Z2TTJISGZUS2RNdXp0VkRLcF9rVWZyVDg0TkxpLV9vVm5sYjlNbzNMR2lMdHJveUROQUotOUdJYlNqbmdQM0pIcm9VMFNlb3h0LU1WLUw4V0I5Ukw1WkdsbVJXcFBUb1NNZ2lydGxiZFlHTlBVbmFoWDVtdmJpSlY5c1F3TnlzNUdaLTdSMUgtcVR5Z0ZPa3F0UThCVFVyUEo4TE1PNDFYZUhnbUF1VTR5X0hCN0J5dEJ6c1F0YWk5dHhwMXlYMmlZNUdvSGk4S3Vrb1Rzai1UUHVjNzgySFVBVXpxZXdPYnlpQzd4eWtJb3pBcUdCZ2VCcmgtRFhBeXhKT2VqQ1dRU3hHVTgxY3ZGSXJ5ZHFrRUVYVW9SdlJIUGRNR0Z2NTE4TTdxRTFxWW9wRDV2dWdxTmltZzZYY1U0eUZ6andfQnVScDZXSDkzOUMtYkhZdTJyeFFZbEJ1cmV0WFplQUtTRmU1a25FZHVSNXJqNzVvVmJlNlZyS2hWV0VZOGozb1AxSFpUeGxWc1pDYTBGUXNsUGt0N3hXcXlLRFZxN0huYmRFdHNSSTBRa21mQ2JCOEdrUE05UTRCbHlCY1dDSnVMRkdVVXlmNC1YWVA3NGRYOGpRTlRSWURkNEZMQlY4cXlKaDc2ak9kWkxSZVhMOHJ4cWNFcTVMRDkyRU9SYzNYdzFMLWNDVzJFZEJYOVRMcnhrODVtS2NWYXF4aC1wRk5HUENoQkJqcGFUcm9SMnRqaWZodzk1TmFPQmpMRkNJLWNvYTJucUpjZ2s3aGhwNk9vR09Bd2VlNFVhbXBqZ25xenNtUmtuZ3ExZFItN29jUms4c0FhOWZLXzlzdmFPUk9JWTF6N201Qk83N0FHMGhmYkpmRm96NFFuQUZXd1hYVU5tWEFUWGx2NEdGZFRZbzFtRHVuT0JHWG1HeDJDUUtDT3F6SDZCSkgtdGdwVUJVNnFFLUUtRlMtLWZSTDFMQ1hIZXJobTF6NXNDN2NOck5nNFIyT3Jkc05fTnVoNEhUNDR5ZjlZcUdJX2tpR0U1U1RYSURpSXltUlpLd1pwYkdsa3dvMmlfamRFazQ3OTVWVUNlUGF5WllZeGlSSW1RRWFDMEZqdG9Gc0VwNkl3dVJSS0lGb0pyaGtpUzVhbzRMZTBKcy1VTUZWN3F1MGZCdUEzVkdVOEE1WjE5NF9WcjZTV2QyaXUwZDBNVGFMOXkwLXUyTUItQ29mY2x0cnByZzZmVlE3ck01b1dOUXd5NlluQ0QwU3JieVRJeklTeVFYbjJLUkl1VUV3X3pPUnZhYXVhZDh5elh2WUdyQUd5VGxhUDdncUw1QTIwX0g5UGpYamwwZFhrcDhtY0I3cEJUcWVWcUxZbzl4VGFWV1RtYjhxOGpjc2x6MFV2ZG9WQzBudFhNQzdEaVZoX1poa2RtY1N4akZiY1Y2TXJ6bUlSX3Jod085Q3RxUTZUb1NuTXdFaEpXUG9aNlVYMDFRRjlMYmpTa1pOTXRTNmg5Y3BxaGRMR1hwb1diZUQ3OXdzX1dQWHFYMXk5YnVYUldlaHNfemF1Z3htX2VCUWtKNEtyNkg3bkdFTWxlM0hQWlEtTzEtTkQ0MThmdHJiTEl4UjRSVnlmcnVQRnJoSkY3Y2NNWEpfemFuVDZjUk9pbXd4QXpvd2FVX2trWkhqUUwydDdFNTFLMXpTTnM1ejYtcGM5dTJSN1FHTkdlVjZObDJSMG93STdXcmFMZGxIQmdWZjJIbFFsWW9MSDNZeEw1YkFtek16YkVzMU53MVdOUUZiTzJBWU50dmptbWtmLU0yTlNQNmJyTXJKZGpoT1F5cUpNd1FGeTBvdkwtb0d2YnExY0NqVFpWWVNmWnBfQ2x5X2E5ZFFwbFZpOURkenNPVXdRNXgtbnp4YmtzM3ZQcFFkYkI5T2J2aDh4bHdtZ2xsVzBUMXgtSlZic0VHYXhjMXZGSktRdXctbDNnZEU1Y19zczRXc2VsZmxPREJ6eXhGR3N5ZHM2cjdza3gxZ1I3ZzJtbzBLWGFvTFVuUHY1eHlWMFVvSF9BTGZqbklsdkRBSUlMWlFzeFlibDhIWVBNQW1kbXFjTGtxcUtmSXk5YmFZRklncFNIOS1FMlJWTkh0MEZaUHgwVDV3RWN1b1EtSDQxMjFmR3RwemlIV2hhMVJHV0g1eF9lQXJGQ0NhYnZhR2tuNG5hY3JXMXZDRkE0Q3lfVWdyaTFQZVBFQU1DUDh1ZmFqTm1EV3VuNGRSR3NZX0d0ZHVlMC1TOHRMNTNnZTNpQ1RFbTUwMy00R1RDWVNyS3dyQTdibExsWkgtOWRzRDdadXN4bUZNd3lTLU1CNm5sdXpqRHRZTE8wbl9MdndBdTFOTkRrRWp6VU9fQ1VzZlBOUVpxYjBYekp2VnNfTTFWZWFqMUZHUTVWS3lCa2pRcGFfM21rUUVwakVMVWxnbC1BclpLOGhFeWNaYWxURWpySFRHOGFPbVdUR2dPdE4zRFo5RmhobzczMi1wZVZ3WV8wTVFTN0tzcnlOOGhrcWp5VHUwbzF1c25FV01ZME43aGVMUm42d1RQYWowazNPYXpHZkU0bWZ0RGp4QmNuaDhQRF95c1ZacWl2U1ZKeVpCcXdnY1pPSHNhZFVrendPbkY2eVF5OXg3ckR4cGt5UkJoZEFmazFoZW9iQjJRblhQOHFDQ1didkxRMVhXb1M0dk1ZdER2Vnp4emEtM0M1U0EyUEhXbm8xbVhuT0laWlVaQmFIUC1PaUhqOURxRkJMWDQ4ZHNESzIxdWNuZ0ZIX0ZPcU4wcVBpQWNhYnBtY0JYWFVGYU81T1ZZU1A2SlpzODdCR1dldnNGZ2FhMV9UbUMwQ1NBc0ZZRmNSdGo5Q05sSFZKX1EzTmVqMml3S0hhc2dpMzkwNjkxMmtTNHBxb2F6d3FfSXlMWm9VLTcwNXp3QW1kTzc4bEc4TC1fU0xWT1g4LXU4N3ZybjZialFvU3NEalB1OVlNQWpxRHRpQ0lYNlYzSzFmbkRodnpnMERXSmx6WXU0MmM1aTJOOXdsNGowcmUtNEdGLUFzVmk5MjYzeTRhOVpCMWtmTElGSm40N0VZSWhKdjlxOUJSamlSa19HQnBxYXZnS1dzQUFrYzdTSmkyaDJSYzRKY2hFaHlLQlBUdzZya0QtSF9iQmwyY0t5TlRCd2RObmtCbThrNUN0VDM1QkQ1OWhvNjR2Y21qTllva1dDUFlQY3BlZVB4VWoyTUJIMWN3eElTUnpMX09KX0lmaUFGWGYzeTBnRHlLOW55WWJQTFJPMFUybWZXWlJOd19XTHpORnY0VDFZZHFhd1Z2MkpieWxlaGlKT3hncnVKdUxIRzJKMENZelg2YndSUEVRckQtS0pXdVZTQW1uQllkcDBMYmlaT0VuNkF3RGx3UHFjZzZ0TGg0cEROQk5TRkpBTWpDU0NKZ3hUUDlNaVNQVFBqSGRvS01TSU5SdW9MQWtaa2FTR2pEQmpQZ0NoaXR0aml3YUhqdjUyMUI2VTVoS21rNUVFWmo2MVEyVDFqOGtnMkxuc2tEbHFSM0I5c1dDamlUZTJDRXFOUlYyMXFTMWdxVlFZSlFKYUdHcmdCWWxKRGdlSTlHWnVPdktxT3U4MFpXRVRWcVd0OWJXNFZNdTdqdXFQdGdxUTMtZXBYNmg3eDZmRm1mQzZzSU5sRy1CTTFiME40UnlfeGtEN2hBc2lUTVFHNVhoTUFDQkkybzJYZjlYckw0NmE3UW9razRueHZ2bkI1RHhObnhHVEczaE5uMUQ1aVV0QTh0YlprU0JoTWpFekozemw1UjRvM3dfckxUQnVTc3c5TGhKMWJmWE9ma0pudXVDOGJjb3VZWkxacXZHckkybmg2NHJyUHhLMjcxSS1SOEFhanpIVWIzUlV2bkhEeUxGWlhNSERmenloemQ4VmlPZ2xTVk9MRzdpM1gwbWkwUVR0TTRkdTlrMUxvVEozVVVVMUZWVG96ZHZrME5WS1dSUXZBbTJRdnhVZzg2UTh4ZTV2X1lmczFncTkxY25BdW1nVDhFSDdXOE9mbFB1bVh1cDRjMVpwX3FaMG5PVTFYTkF3V2tob2JWd0tZRjdJbWRFZDFXb1ptN2JwaGRIZHZkbTZJaWpqWm1GY3EwcFpoNzZDeVNSQ3IyZVd6WW1yaFJkb2h6MTdud1hFSXBGQlVkQ05xNDVqNUw0OHdTSnlaVUNHMHpFOGM2VXNmM01ON0NlY0JXMVp3ZVdCcnRWUmZiYnBHSkNDZllNOWQ3dWhjOXJBOUszcG9FZ1U0YVZUMGsweENHRHR3VjJyQmJDZXcyTGFDeFVMaU5wN1lSQVlBQ1pxcDl5ZGdLdnRmM3U4bE9IMGxsZXZDaXItTndZSVJlZFRTMUxRaUpfc3c3bWZYMUZ0X0tTRi1TOWsxTTRiOXlvdEJfbkFWQlBpZG4wSXp5Y19JejB5bEJhTnpZOHRBN2lWc1dROW5tLU93UW1WelhPOWloVkFEaFhfZzR2dVIwVlNUdFBGRGJqNlJFZThiVnBZTlpheFN5blFGUlRTLVJBYVVwQjl3bmdiYWZMS2JlRTNMNFBXSERXUEtNX0N0S0R1Vkkzby1QdkExdnRqVS1aaDdBblRsTVlNWFE1S0JyY3FjSHh3aGx2QVdBenBPNW80bV9ndjd3NXlYQmFZb3BRZUNUSVlPNXpjWVhHUmozRnNzenFROWFNS05DZHYtOXZvQ1JhQU4xWm85WmxSS2lwS0RrM0xyem1KZDdidXVGU0xNSFlSeUNMdUNMRlhWU3ViZ01wbUVoVjhzVVBwOEhwNEJvQy1jSHg0UUYxNno5bm5kNUt5bGNIbXJLWWxfSTRQMUhxdkZfSUdSem1QRUdrTURNd19ySzRmREpXcUY5cW9HcFBvVXFhcE1YSm1rUkp0NGhZdHUxdU9DZXZabmZrQkZPNWc0QnVYOXNnd3NQNEV1V2xQbVlQakN2cWw4V21ReGdMZTJGaXRhY2xWRW4tWEhqNDBVTURJeWdoVTh0MkZMXzRkUFVZVnQwMkNBbDFFUWN1V2tjdnlidzVYdW54MEFZb3l5aVZiOVVCMUhlTXJzLXVFcmJSZDhlWTFLYl85QkRDN1BhUzBORVE5ZjNJYzNFMlRrSUI1YWtucmdsOE13Uzl3b2poN19GMmxJc2FHbDdodWdRUW9GWGRzdVVLX0U4UkpyOUUzMER5UnV3bW5wMnkxVmdxOU1aNzVETHRIbG5BUVhXNGxHMkcxSmZnV1B1QkhGODIwbG53ZkRWNGJvYkMzR2toRHhmMFRqSTM5T2dCdDlISUYxYlNtc2ZkNUVrY2hhemlhM2VUbFJxS0stNUw2cGFWRFhJUE51WXNtdlExcVNUYTdZeDM2LXlXUVlyQ1MtUld5Y0hEa3Z0Y2dSdzB3WUozbjY1YWg5WmxTMm16d2l5OXh0ZmlHb3UxNXFEWHoxV3BrY1MtbVFHNENvczNxMVI3MTY2aUtfc1BqMUxDYk1zQjA4eTcxTHdBeXRtQWJXdElGQkZoV1F1M20zNHBjVm1hRzZRc3Z0TWI4Vm9GdUVHZlJub1pkejVWNzNaVHN5alpkdHdZTFBQQ3ZxZVdLZ2VaRHBlcU9HelpyMTlQRGhJZHRqRnVUSVhjOW5NNV9ad1RsenRqcTV5R1BHYUlVV1IxajlTMVppRm5qRmFYRHBGc29nUUc5X0RSVFNhaWZ6ZzgwaWlBWk1RUWFQcXNUbG1sV0RZZmZycWp2Ry0zREtKLTJYVjZ3dGQ2MVJMRnM3WXV0MTZJX3NOc2tmMFBPVGhLdkFCWkhPY3hfV2Vpa3hrZUctaWNSMmNWVkV3Vm80aFgtWmdXbXhtNzhkemtOZUR6TFY3MTlaT200MFAxQ0NQaWdxblhqU3JleTJKM3V4M2V6QUlfQWdyUVljS0RFbVdwZS1SMEVnNlVTcXNSVkZHcHFGd3hJb3loMUV0VGRENjFJZFIzN0RGSDhwaGJkR0h5azBnWElwLXo0NUpIS21YSVNPQUxhdVRtVzNBRUhfUUFNYUQ4TGRoZnhiNU9idVMyR0syOHJVZGFyeVJzWGVTTTFub0pMMmhCaWRHbFpRMlNZS0xmd0pnNFVOdjJVR3E5dmhidW51QmlMbEVidUxnazZnWVBZZ1EtekhoMWtQUzFpUEp3R1BqcWdxelJpM3pwbXd3OTFkakRlbEk2UzJubXBuNFc4NW9WLXJ6dnlsN3RHR3lrRTk3MEIxSG83ay1Ya1E5dUw1YXZkdV9RNmM2Q3BfckNOOUt5aFQ3dEVDZ3BhRUNwNEk5WGJJRGFMRklkYmlhNDN0ZjFLRVl4Nnc4Mzk5UXlOUnAzTkxKZy15R0hGcXp6cGFFbTJBblYxQkNicjN3empUMkJ0MFcxNW44UFlMaUZmZkE1U0dyUGxKSlBWWlNpUEo5enliOHJJSTJRQ04zX3UxYjNLZG1fWm1hRlFBY3FISU42dlZSZnNJV1RZNC1vM2NiWXYwRnhZbGFmRHhMdVA0dld1QzMxVFhRTzdVNF8xTnZCVjFQbGlNVll5SnVBU1FNUnUyNGFJSF9rcy14aU12SVJyeEhMYkgwZGxkOEtvRFVRc25KZ096MXZGSTk4NDM5TW1EaUN3Wmk5UTRwSjZlRW9qOE12NllDTXF2YURVVHd5dWJ0c3FCcGg2VzR4dS1uM3djZFVvcDZobS1HeFVvU3dyVjllZ0U5dENKeHJPSjh0VDI4SE1YcThsNThpZklBZ3dpbXhadS1vT0tNNGh2NThRQUY1eE93V25UWVZhdUt3WlJ2SVVMaDZvQWVVU25aWWxNT25hZlpaN29ETGpUWUpYWHJGcDVQMzhYd1NhVEpxVGdEREVDeUNmblROMVEyOGt5SjBPOVFEV3hkYmtka2FRdnF0VG1mdUUyQW1XcmNTem0zc0VtSjRxbTRoNEVuWnVYTkwyM201RWRxVDFRNUl3cXlGcDkwQW5hRHhZc1hYRmF3UG5jWnMzSHhjSXRfdVVkUnFBLWZXVlI4a3J2T3JIWVp4djdjcC02OGdBR3g0STRVMndsUjdsUjVhS1FGVnJ0Zm03eUM2ZUl3) > publish.properties
        ./gradlew buildAndPublishRelease

# Flows
workflows:
  release-builds:
    name: Release builds (master branch only)
    scripts:
      - name: Check 'master' branch
        script: if [ "$FCI_BRANCH" != "master" ]; then exit 1; fi
      - *stepLocalSetup
      - *stepBuildRelease
    publishing:
      email:
        recipients: *releaseEmails
    artifacts: *androidArtifacts
  publish-builds:
    name: Release and publish builds (master branch only)
    scripts:
      - name: Check 'master' branch
        script: if [ "$FCI_BRANCH" != "master" ]; then exit 1; fi
      - *stepLocalSetup
      - *stepBuildPublish
    publishing:
      email:
        recipients: *releaseEmails
    artifacts: *androidArtifacts
  develop-builds:
    name: Dev builds
    triggering:
      events:
        - push
        - pull_request
      branch_patterns:
        - pattern: 'develop'
          include: true
          source: true
    scripts:
      - *stepLocalSetup
      - *stepBuildDebug
    artifacts: *androidArtifacts
    publishing:
      email:
        recipients: *debugEmails
  merge-requests:
    name: Merge requests
    triggering:
      events:
        - pull_request
      branch_patterns:
        - pattern: 'develop'
          include: true
          source: false
      cancel_previous_builds: true
    scripts:
      - *stepLocalSetup
      - *stepBuildDebug
    publishing:
      email:
        recipients: *debugEmails
        notify:
          success: false
