# Has a separate flows for develop branch (automatic builds),
# Merge Request (automatic builds) and master branch Release builds (manual builds) and Publishing builds (manual builds).
definitions:
  publish-vars: &publishEnvironment # ENV for publishing
    PUBLISH_PROPS: "Encrypted(Z0FBQUFBQmdicS05cWJaQXA4RWdzWEotR0JYQzNOZUFPSGpsOGVHYXpHclBpTWhQTXB1Q2VnUS1ZcDhUS3JGVFlocDlXUmpCVHRJcHJja2dVM0FLVW92dGNDdzFXWkFxMVJfVDZVdXdsSUJ5OTdBa19HUktwRENjRDhpRXZJWVI0THM1U1BENWxMNFFFOGdud3Fpc2M5UTRJZVdzZE1qbjNweU1hRHR3VlVDNERqZjJFX0JqbHNLQUVXMl9icU9zRFh6bmFOY1NrV0ctMGE5bzI3RWpaNFZreVVIZ1R5d2FUa3NySHZRRjdsaWNQbkNhakdURHpiaE5SRmowRGhiRE9UcEhqYUJUcG1rc2xSMTRKOF9PSDJXRnJjalNoZHh0Y1VQR1JyOU9Nb2t2cU1UMEp3TEt2UV93Wkt1WGp2VzNsNm94MFg5bWI4RlNUemRXTGV2Q3V3UWF5N2hGSG8zbVl1bXF5WXpDVkpzbml2QVlEbDhuRWdseThPcVlUU0VjQ0gxeDFJc0wyOU9YS3paSnFMN2NDcHJaaG1MVFk1X2ctNnZVckI0SWpSdTdnT0ZlVVFYazB3Tkc4cm10MFZJSmFVenFHOG9ZTjZQRDRrNThXdGlsaml3Ymd4eXR5X2NhVDEzSFNuNnJfcEprQWo3eml2NU5tbFZsXzkyY1hiM2pad1BXNmZFY1BXOHBmRnIxUzczczFoVWh1TkdkQ2dlTnhyQ2NhMWo1M0xfenA2Tzh0RnRLN1dKM2pCN1FuaHZYTkNyNTljV2g4NnVNTDRaOHpHUWx1Mzd5ZkhuS1pHeFUtQ3BIeGJtNGZmSnhvV2t6bXdDaG5Uc2ZOLTNQTEdEbHIyNVZ6eENrQkZvNlR1NjJlcHZWTi1pN0l5Y05OOURmSm4tNS11LTBtY3FJM0Q2ckZmeXozWWxQZ28yWU9lZ3I5N0RKVDBKRkpYM2hRTFNiTzR0RUdoTWI5ZDFSS3gzSUFYNEF6RFpBbHRVMGt4MzE1aDJ0S29DVTdldUM4OV81ZW41STVWZURVcHNGUmhDa0ROWlNfZGF0WjJtN0lIYVpndHc1OHAtUjF0OWhuejM3SHFPclNod25fWm9JX0RYVi1WNUNjMTNXV1JwQWExRTZjYmdGa2NrSVRQejFYR0N1cl9MLWU3TnhYMHRCdTZKV1NHQXc5MVp6dnFOUzFMcnlrNjZXLWVpZjQ3Z2RQTjFUMnZESXFZUzNfdWMxT1IzckltTHhGalpiTEtMMDJXNEN5SzhVS0t6SGNoU0FvNWd1LW82ai1iSFluTm9uV1NydGI0MGRabjJCN3Nqb2cybkdUNkptVXdCNzltX0tYTkRyemtDWTNZWjNYQTRqOXBqZTl3REVSTGFFLTdHQllfY0xnMDNYcE9TcmF4dENrS01GNFlCV2lLcE0zdUo0VFl3blBNUTZsankwSEFwSzMzYXkzUzJDOEQ1Tk9ZZzlGOXdVb2xKXzV5RHNmWDJZTWNDNEVoWTJKTHpqUWN6bExwYlNUa2lrQjhqcWdOdnFmQnBWdlNkN0pyUUVaeDFGV3RtQmRJU0ZPYk5HcTBsREs4aU80bVdkazNHQlBxaXduemVmZGk4QWVGdUtCVmJFSkl6ZFJMYnd3cXlJdU44STVWdW9BeDk3X3FfSHFiTHVGVzZGN3cwZXpaUWFLcWZzZ1Q0VUFmQ1VJOHpsTDZJNnkyYklqYWdIT0Vqc2VCaEYxSGVqMHlBZW85T3NudjY5cEIxQ3RQNUZWMF8zdExGNHhNbExOUHAzV1pRcEE0Qjl2X0xaRU5Nd2RXUjd6WWlIZkVJTHRUdEdzZnVhMXVSVUdHQUxRRnNPTnZEdVlPTmV2ZW1EVFhScW9sUWpHQVFEUnFWVll1V0Y2WHhwWFFrLTdDV3F6bWQ1Z3RCYWtKSjJmT1F1d3B0WF94Q0RVSHc2TmJZM25pcTV4VldpSmphX0QyTkJYc3ZFQ1BncVNQSC1UcnE2QnoyekJxZm9fc0xialdfbjBLSzdOZjNQZkpZZlhfQWc1TUlwRlAxWWJZMWJjWTU3OWVsVUxGakxLTXBNWEFHelhwYVV1V09FNUxWdUdJaUU0NUZhRnhYSHBBaVowd2RkcG1aSlJMRTgzQmFpMWtITzFtdk4xRHlSRmR3SXc0NV82U3lsZlc0RDgxTmJaT19KZ0k0MFVfT1BfWXdBRVJubjFGUmJQb2l1cXRsMU9EdVB1YVYxMkpzdmRjeVExZzhsUVNqX0d3UFp0bWpDT0xRM05EcXRseWljSldpMGhseTUxNExralU2dVdRbnNUbkpyTmI1SkhCLW9vMlhIdG40QVdjUlRBTkdWWWhTMmtKLTRLX2RabGhEUDFGZnQyNWx0OUZaQUkxNW1zMlE1dkJsVmlUQ19vVXhTaWZwbm1Oc005aDdoaGMyNFlxdDF6Y0xmak1iY0dIVTFvUS1mUzZMa1pZQ2ktYUctZlc2R3FCZF80a2pES0pod05RSDlSODJOdHctSnI4b2prd2pDUEs1a0lSLUdOdmFsdkJpenU1UGFxSXk3UURjMTFONC0yeV9hQVdCYVg5UTljZWJGZGRSeXpHYTNINVIydFNlc3F2b2FIN0E4aGdmOWJzMDhtekhIdDBuNGt6ZUszeUVVTUpBMkoyTlA4V2ZHNGh6SGZQakx2ZGtOTjdFcGVRS09aM1IwWVNUYkpZU3oxb2txV0VJcVJaQmRQYUc0SzJfcmlFcnJQU05xZHFyRXVTdTFUSnlLZ1lxMHlBcVZvdENrRFpWb1F3Yndjb0lIVnNoY2piUVNiLW5xZGNGV3ItY2ZJX1ZqSTIzOGdicENNY3RJM3JyaFFlZkpaSTllVWkwdmNxclhFbTBfNXdiRXpDa1paVTUzaF9ZMzZyREdfSzFvY0dlUVA2WUlNN2hNNzZtYUM0WHp1bnJsR1lUcXdvMV81Sjl4UmNCal9LV1N3Z3VMdVQyNWtHbVZfTkYzVmVSbjdEUzluRzNyRGNXZG9FQTA5YmdTNWdEWS03V0lVbnFTN1lETUtsT091RFZ5UTZDOFZjekxhTmczcFJVRGVDTk5FMGlrTl9neGhUYWJ3MmVCcDlDR1JzUTNMRk1tSEN4UHZhMlNvRGlBenF1QzBNeDJXcGtCUHRIMFB3N2dHcXJnVTZMWmIyb2VZZHFaTkp2Yno3cEt3bXcxRXF3QmRpT2dBd29jSEhubnl3OUVUMnRkT1Q3WXIyNkxrSFNXNWkxRkl6OXhGQ3ZpNi1QaFdJQ3JvWmtUbjZZSlp1UXRUWTZ2OUQ2S0FOZklmZy1zYmRvbE5TQ3ZWdVlwNzRROEVQRmpPeTRta2t4aXdQZGg0T2tibVc2eFVsZUg4TzhTZ0owb29fWTlYVk4tTm5fR20zRFZqRTFTSnBGbjU4TFdUYUcySkJrVlVFMVI3aldaVUxvazdxWU9kWk0yWWI4VFIzb2wzUndvNzlzRDNOaVBEaHJ4My14ZTh5bnNUdG1fbGlSZGdxR3ZfLWpvNG9vTTh3S01Dd3ZGa0JHUkN6NTQ1dXhxcVdTa2N2YlRSelRDSkQxX0RRUXkwVm1VTW9zcmRaSThOVFdja1AtRThOdEhnWFkyQ0o1VS13SFM3OXlYWWtBS1NtNWI1aGJ4dnNEdm5nOHdLaC1MdXpZN0g4UV9XbXFUa1lzdGo4T3NfZDMwaUFod3M1dDVieUJ3YUJaakFCbDBrelJnTVBHcGxSLU9qZEk0SEJZSDJVMEI3SnhTMVQxbDdHOVBZTUFqSV90WVExdGR2UGZOOVl1VjJ4UTdIbUhuTTFpcUJuSTQ5U1RnbWVpdnlaWlY1UUtvYXFNNnZXOFhkd3BjM2ZhdGc5dmJYQ2l3dHpiRjdLYlZmRUhPbFRuRmdRb2ZOTFEycUJfNkZfNTBUVDZPNjlfa0FfZnZaTEpQNG15QVFCZ2xkMFdHeVh0Ti04bHJIS04zTkgwQWdla1d6aFlMVF8xTFpZUUtOWU1mbXBoLUxHMF9JakNEdGg3Ry1JNHAtdnNCVXNvVHBMa014OEl5RVA4Z3J0bXFLemQtMThiSjJzSTdzZDRIb1FIWVZobEdEZ3p2ejNKYkFacXNiS1ZEcnFsUm9XLXRPZldZTmR2RW4xeUI3TWF6WUpDNVZSR084TlVsZXBobGZkeG1mb0FpNElneG1adnB3UzdTMy11bGp4dU10dzZ5QjBweVBHVzAzUWg0bWVSM21UUEs1Qmw1U2YxTGhEdFdZRW5OOFVtZFFLMS1EcnN0M0NfOER4ckVjUWotRGpGSFQ3Y3hveUwtbUxOYW0tSzZ6VWhpUUVfblplSDBNSFNUTlZpRjFxLUlNMzI3TVpYbGtnRVNzSzFoU1ZOS1Q1RmNza0p3X0VRYnhaVEJsRUhQX2NfSWQxbXdodG5CUWRJV0JkTTBXRnFaanBZSFJMNDdrNThybm0xWWljZ2lwQjNLUy1UX2tlTnFFbWxJQ21BaHVlNnRhUHVtMDRyQ3Y4RXhZZktSSEdPX1FIMDhMeHFhS1BOcXczRnQ2YVNQZmJFejFoZmtDWU81OHdhY0h4cVFwNE55UW5YaW02enpzUXlxejltV284MlVUOEhhRXpnVHJBcU5oNGo2b0FLTzREOW85ejFocnZwZTZKTUJoSEplNEtRcFE1NUlGSklxMUphTnZ5OVdLX2VfR2JITTZOZEJlZmJ6V0JyYWx4TEJzM3dGOHA0amlUQ2dsemlLTC1KU0x0OXliYzhKbDZEeXhMcmNFU2tqRXNhaFA2SEtlVUlrMUNXRzAwbVRHSC1tM1hjV2NSY3NmTlc5RnpNVHRoUU1YX3p6WlJGb1NNOU41bzVwY2UwN0Q3UGZSVXRJWVpYdElEMVJzaEIyTklRYlh4dmFWRHUwRzJES3Vib1NHcFgzT2x1a2NUOXhmLWd4aVdnZVVpakJPZ2RaMnVwTWpSODNZb0JEVXYtSEp3N3hEZ1lxQjFqR0U4cjZxb1R1RGpsNnd0Wkd5Z25YRmctSENfTi1BRUdvNlUxcUpGWGU3Z3hrY3M2a1dKRHQ5empad2FkTFF0NENnY3FXQzBpN2xReWF6dzctTlQ2QnFRT1NNYTFfS2o4QzJmaUExdWJoODNUeEFjQXJfbDFkdzdMVmRiVHN1eFRmdDdXei1ZaXZmM0V1RldSU3pCTGVlN1FfZy1RUWZ2VGVHRWc5WlI4WWtXeHRIQzg4eHRFX1JMQ1U0a1ZidURoc3pOdjVESUFRSnZfejJPSGU1dVZYSUxEZHRlQ3E1NTZKUWIzM2x3Nnh4UzROQ1ZYcHJrX0RyMDBCX0cyWnI3enp3M0lXS0pSS1pNOERETTE4T1c2YTVrQUJfd3g5NjNBV2poU1NmcXRzdVBKSDhqdEcySHZpTV9jd21aM0VEVEJ6eGIxTXZWQmU5TWZ6Q29OM2w4VGktbXVPLWxnLXdLTVBwOG9Jak1McXZnN1Jpb243WGk4ak5ndDVWeVliSFlZdVZFSmpFRUwxOHZONllDekFId3MyV2o1LXR0WjdyRnRCalBQckZJN2ZELXpDQ0lQWlA0eC1ZRjltaEtSb3FIOXcwcW1BeTV3TkRFRC02OWhSOURHUnZUMVZ5bnlWRC10cVV4NjRnSEdTeGFxMzdENHlzWDFWc0RndHFmVlh5THBiVEZJV3p5MDAxdFk5NHJ2bmpCaXlhRVJQZEUzTmxWa3RMdmRkU2tZUEFDWUdsb01NdjYyRHFnNjlDc2FGSFIxMXpNVUJiZW4teURiVV9sVjZyTUVYc0FRQ255bkUyYmlUeVZ1UmZVZC1wUjR6MVFWazdvc25WMHB2NkpqeTVIaHVZV2UzT0ZxTXNnQzU1dTYxY21UU21YZjhPano1WDRRMGFTTmpIeFY0SUkyMEFrYklTb25ETDBzNTB4SGFSeDFjZGY1NDBUYm5pWUlzd1ltYU9fS1VLdnRUc1BwalFXdWpvUnltUnhfVTVVSGFPZWVzYVFUSmpDT2Vqck5YMjFhTWJpczdySUZzbzlvMkJQaEUtOFdhSW1MZXdoTE43Q25RV0RRSmpIa2VNbVBXSzhuR2ttRmhCeXk4YjZTSlZ1T3plTjZNdm4zMnh2RXU4TW9zUk4tTUpLUER4c3ZlNm1yVG5ybEthNy1YZkZmaFoyX3puQUhCYjNBVjJ3NTVXZ091OFBacTFPNXFPZENJaXhJRHFnVHZ3UkxxYXZVRl9hUXNxdzZZSTRzNWlUZm45YnBxVEVzellnTkZSaE95Q1ZmSE9QZ3pIXzFwOFVwVE1mZnk1VXhNeElfMjJUcjk3ZEY0WDBwOTA0NVdLMDVlLXJrQ3o1bnZTUW1jZHh1RHJjT0ZfUDFMLWVVQjFDeHZhVjNSU3VJdXNyTUluR1RpWl8yQVBNRGhrNENzV1kyOEJvYzhoUjA5YVNPUU5LMnlSV0xEUDFjU2hnUWJtZGU1U1RNa2FHU3ItRk42Wm9sZ2hBYUhxUDJRWlhqaG9EcHBnUFlVSDI3c0x1b0stSGFMbi1Jc0JGaU9WTFY1UWVnbi1NaU9pbGlzZ1NtNkxiRmtwQm1wdmxOcDF6djh2Qk1YWkY5dTEtMThXU3lUVnVjbVo5eUNwbE9iWU1GUjR4cGd4RWliV1hMX244bVFSbHp3LXlWM0VPTGpzT3dkLVpTaU1tNlg3c1VzTHhXUExoYW9peWs1LTBXNTJ3dUZjb3Z5VVFTTzVHc0UydjJqenBHWFhpWlhjVUotQlI1UW80aDBTLVRKMGIxSDkxMlMwOW5tOUJuU3MxSlJRVUFOcllBd1BWbFhvS24xb3hqNUNhN19wRXpXOUFFOHFoY0k5VkI1cXQzNWtVZkJWTGxJMGtGZFVBTzlfMzhYRXh3dTgtR1RoZ2VuRV9QU1ltNEMwWmgyWHpMOTZ1cHJHcldVWE1kd1hLU1VrTnN1WDNubzRFTFEwQVZ4U0VDYUpmcGVfZmxVbXhaV01iWDZMWEFpSGljT21valp0UUpwaEctQmJJZkUzX2VkN3BuZWxNQnotS19XNkRPSVVOZ0drZmI2c1BLY1dOMWJTWVlHMS00WWNWTU5xYWJVV2prSXFvT1VTR2R5ZmNONmhvWmVBQmYtSGZDeW1xNHNwdE41Q1FuYzFCd3ZJMklVTF9vWUVGcFlzeGZoaG1kQmwwV3FvOWZCbkFFbEJ1YW9pN01lLTc1ekJjc1hrY2w0TWVrY28talEzTHQxV2ZFVmFuYUlaZmx5N19vY1VkZk13VFRwR0Fkbzc5TkQ4cmhDbjh2Z3o2Y0xBOXZvYUhIRWxUcl93c2ZWandtNkY1ZjVtYzJfblFiUXlvQUduakZjMUJCQWxkclpzT2dQUS1UQU9Udl9qRE9kaFp5UjJqN0VGN19MTlB4MmlOMHB5c1pMYkQyelJEVWRhZUtTNk1GSEl1VXVnRmdoZUhScFpQdWdPNnBIS0M0RnlMTlVrR2plNV94elhaaDhyNDhYM3VtWXhlZkI1WU1pcGRyNF9TSlZ6N2pKZ0VXUVJCS0tJdXV5N25yUTFRT2xMd0lOOFBXTDhUR0c1RU5JSG1NbzllRGdIbXREM3pUck1kRWdfZGdGX0wyS3hOWnBVWlJXNkpHVnV3dUQyb0VYcFBJLTVQR19yT2g0cGY4c01GanBORXZlUGVId0dtRWtHY095NTJPY3dWRy02OVlPMmE3bVZMWXdiUGdNOEFCdWZrMTJyQ1d5X2J2R25URWROS2JUVk9RR2FwOUdEdXUteWhKR3JkY0NYMU5yWFcxc2dsdWlnUEliV1NMcVhLakMtbjBsYUhWWnlfbl9kZ2VzbGVEUW8wNkczNHZGNlB0QzJtOF8zbF9wci1Wal9UTXZsZWd6Sm5JTFNrYUd4Z056RmJyMFBLOWJvcWdrdW1JZU1hU05rVHp5SUJPSzNWdDRpOWlpS2E4Q0V5RW8zb1V6bUFiZ21rZ2RMLTZfbEQzMnNFTWZHREZ3NTRWODV0eWhTOG54TkxDUnpNQ0RZRzl5Y2MtXzFoMFlUTnUtQkFYNm5CNkJ5UklQbC1MWkt0c2g5QjdFZkJtVDF0WGxCdUd4dzdkcVJmaHBMQlAwbnZYY2VjMTQ2UUpXaV95TTd6TUVXQWVCV0RvMlkyYV82QWxKS2dqTUF4c2hkSWVBdENtNm1xd3pKcVhqU3pFQTZmaVVqSF85dnRfdzRLQlJRWmNYWmg3VWJfUXJKakdIVGh0Q0pqODBQV2tmZ20zQTZtUTlndmFialFUWk5hWjNtcnpuOTdfLVA2ZkZ3Q3FWV0ItaWJId19pQVVHWjlycnBvMlFsYkhnbUxuX2lhRHpmWkZhOWd6bU1IMTFmaThJVUp4SHJRMFBmS0doOE1qWXg0QUxicXJsUVhfTjBjLXNpdm9qaG5XWER2Z1RFaGlydFZLdHN5aHVMMzhISDVkclQxcUdValI1TnlhWHBqZGVjbWxDaHhiZmFyTC1vbmIyVjI2SnkxdzVSWWp4TnlfN29nMkVUckg5TE5RT2RSNWItUk9OYmdmV0ZBVzZIQzE5dGlhZi1aS1RGOHU3dVNvVHFYSXo5eHJ4aDNSSTlGb1U2Tm1LaGVjR0RzaXpyelFzelA0anp5QkpuZTVydEJTSDRBcHpsUUpFU0pfb2dPdzNJTG4yMFhwaXd6VzF4VjB4RFlneFE2UE0wckNtSU44cnBaNVNiVm9TWTd0VXd5RmRXWmdyYkpqbXExX2xlTEZ2cmw2aWNmbkxUX3JCZ1Z0UTh2QXZzeDVjaUdvV0stcUZMc2JhUEdzbjFvMF9WcTJYalgycDhQZmVwODhadlZua2J2VWlCcDNiSFNrZ1dwVnpQajVDVTdodDhqMVBHU3QzdkdqOXctcWdGZ2NTSThCblJSSzRiRkJwV2ZGWHFVN0tEem9HanhyQTR2a2dBMjc2SFFRZ1FfRE9tTTlQWHIxUUMtMnI3WnA3WU1HRmo2VkNVSjE1Z0hYa2hydVpkVDdRZENxcDhXcUc4QVV3dS1nOGJDdW9JYzdOVGxhUjdmTHU2YldFd1hrSEZseVJMY1IyMlFfXzNIeFNTTi1idXJkZlZKMVdZbWJLeW5xZkJ3RlVIRDk1SjZndmV1cXk0X1BHaUtnZXg2bzZXUGVZLXVzbHJHMXVIeEJYanlNa0E5X0w1M0F4cjBFZS1BR3dYSlpRbkJxZGVwUVNHWWRwOGlZaXd4SzU1UHVLU1ZQMUMxMk5IbzJYOWVuSVY5akJETlBFeUw3QUR5LXZoeERUdHZTOTVtT2JFenc0NEpWLU9oTGFUZ01HLWc0alk5SFNIZkM1S2dhTG1GRV8tZHZ5blM5a3d3OFVnNG96NlliTDBDUkk5anQ0aGpHNmVuVWRmTU1GQktDY2c3T0hDdHpQc2lXdTNYdmhQbkp6NWJld01PQWlWNnBWMWZ1cXljUE16aWdHaWt3WmFYWG9mbmJ1dHFqemV6VGNhdUlQZ1pMdzB3cEdCejhCRUh3RVZzQnBkeVpXbU1LMExOLXBZMW44d1lndDlyV2ZwcUNuUkEzN1JhUUZFaGdpUUNNOHNqY01oZzI2REM3RHJSNmR3a0ItWDlPNTZfZ1JnbXRnZnBEQ1VvTVZ4aFRIdm8zWTBHOXlTQUxZMDNuWHIyd3NGQlloZ0M2MlFudHVBamlBU3UzcmZsd2lVZTNHZW50VlpJYzRQRjE0ZjJ2cUx0UUFaZjhoVkpXdmJ0R0E4SWRVZ294SHByWW04WDlkYm10QS05WUZlMDladkdGR0plSWhPZWhLaGdQZUc1WjY5QkVDUjlhSDBWTktiOEcxamhHY1N4aTFOVU9kWkRORWsxRVFueG85U2hWaUZMYW5aZk11VFVFQ1RHODRNdGRjRVdlSUFYektuSzUzWE1PRWZrVC1Jc0xnWlZfWkRqdFdLd3ZZb3Q2NDdiWTVEUG5ROVRKM2N1MkFjQTRMU25fNnQ2alA1SHJpd2d3aWNaY0lhZ1JvVUZGandBSlhMdlI2R2NJZmpIZk9sZEowMUFjQVQ0allNblpxdXltQTZiR1pWRkhUZXF6ZDNJLW1FUnFaREhKa1dGZmU0RWYtdXlqbWJmV2hvOFNsR3QyYThxLVloUW9sNFllTWxod25TenU3RHBNN0ZvT0FuNUJPUW43NTFDTHpRdHM2eGwyQVNsX1N4bjVaZnpSaVdiZWJfNEJYNzYxZUpvNzBVVlZTaFRNdGtXYkJ5WFdUTzA1MlZDWm9uV3psS1NMbEROdjNvRHpiaTlBd2o1Q3FnRU9udU5WMEs5dm1lOFVQR2RUTGFoZUZiRW1fTlNXVTUySzJhWkVvWWJxTUMxUUdTN3lzZU5EMjJFbjFQSTI1Qm02VkVvWHNtQmFPcGhwQVZKdE5PLWoyb1RvVlUzSmJXX25GYkdCV080WlZEc0lFYTJ3cXY0RlVOdXM3ZGYweWNTVkxtYlBJem1mOTlGRWtJakF4Q2lENzF6SVRRdkJQaXlaZ0R0enlyaUZFaUVJdEw2Vk1XTWx0aFNXUVlDMkJsNUVXNnBqLUhMUUtvYjRTNWh4OFBkQzZxN1NOY3g4Z1NtUkQ4QnQtLVJ3cWJVdTZhdlZ5dWlibC1zUmQtNm9mU1B4X0xHWE51QU43ZkNLckRIbzhZaUNwUnhZMV9sSlBlcWYzVmFUTVpFT09aQWdnYnNqeXdYWm54eWRTWlZIaDdKQ2NjNGUzak4tWEFhZnZxZmJjb2xMcm1WU0ZucHFaSDNKeXZIU01YNDVQRTFsUzV3TUFTX3FRS3ktX3dhdkF5OFRuWHhBTUF4Wi1LMzRic0tlVHYyZHRYWVNDYThpMW9EN2NnZ1VfLTd5WHZGemE4dk9yNW5HU21veWs4MlFCVmxpMEQ4V0FFWE9hWFpxUG5qMjd1TG5nelpRR2hBYTdCRHBRNjI4aXpHSTRDVjZmR3NnMkZ2U21URDJNbHd5NXpNWllIMHdaV0NfMGdaMmMwMXZoWHhCZmphZVlFaHpZSEVSWmFLQkM0djF3S1JLcWMwNnZEUXpMZENBT0MyVDNRTktxNkFSZVhhZXd1dDJZTGV4TGpVSDA0WHRaTVdZQ3MwR25CMWNHTGFvYXZCRnQ0b2lWTnczeTZrc3hPZ3l0VFBWejVjM1pOUjdMa3ctYno2Y185QnhIYmZzSE1Ucy1VUDU1cDRiLUNUWklkZ2tjMmF4emNvZnhYTl9fTGFfVWpQcHlRMUxuNzlZM3ptbnBDYmkzQUpDd1luanplX1k3VlZYdVlJTEdUREhfdnU1N0JfaDFNVlh6X2Q0elJIOFVraVhNRjEyOFpsdzh0MDQ3b3BVeWtsRGktb1pld1JHeWlqaGdQV3NwbmZ4NFVFQkxfcV9UNUpKb2Y2QmY4ekNCbC1qRklHVmY0dmJVdkpzSk1YSUhyTWZfd21lR18zZGlQMFdLMGFNV3JRSHdzUGlTTUJ0bFdCNGtVWnVDWk1OeVVYQmxVQTNtT3ItTVJNN3FYVTVQQ21YRzkzOVJUa1VQXzBwT2J3RDUzWV9tR2R6TE9pWTZqbndoaExDVEUzYk5FT2Y0c0dyUnB4NjlqU2V5UnZmYTJrVjk4SndMSFVEV0VtSXRmZGgxcEh4S2kzLW83Z0ptQW5ZUmJ2WUU1WjZfRmF2TkNXNGJCdWJKVTJJako0cHdaY0xNUUx0UWtyNkhtQ0hHNGdwdW54ZTdoZlU3akpNSTcyRGxQdHVxWV9vOVl0ek5lNzlrZl95T1RpbEk5SWZORmpVRVJoQ3A1NUZPeF9Nbkx4SEtvZmtudFY0bHJ3MkFLVnNMTW1NWlQ1bjFtLWdDQ3ZqblctMEZqQnBBbVo5NUZSMEVEMi0xNHFkYTdLd2FCbGg1TnhMSVpCaGJTcmpiUkRuNUxlZ0ZnUTJfSnlaR0RobWdPSzVUNHg1UE9XS1cyZ0Rvd2RoR0hLS08xWUJ4TWhoRGJJTnVXTWtTZHEwN2dNdUlhaW5MQUdwWkVYWXlYc2hnM09iT3ktSlhiejJhWU9vVEtkb3RNR2QtVGhOdE5OZkM2ZTIzaEpramcybkFQWFJ2c0xrWDdhaG1zNTZjaV8zV05COGRYWlFieHhlR0FUWG1vM2dHQ0hYRzBQMVBBZ2FMWTQtOFpkdkFST0ItTi1WUk9waGVfX0lzeFhFRXVCZjZaSVVfQktGaWJYb2E1dFBlVDJvQW4tR1RHbzU5Z1VBOWNlbWhZR3dIZm8yejNiNUd2NVU5a0NWVEtZNE55M0JBVnJPWnEwSTFEQnZfd04ybm9zVEd4S05sLWxTU2NNYWJWaE84djQtNGZsalRfMHAyTWdkcDVUVG56UEJNZUN5UWZpTVFCTWJ5UkU4M2M0MVRBaHpTRWhFY1BIazMyWTVrb0N6Ti0xWFFfWUFKejgwdTlBY20ydU1sbmd3cTBiV0VfSHM3UG1pb1RpVzF1U3BnYzE1UEZzdXpfVjdJN0poUDBTLTNxYlFvUW00VDRPZFFQdTN4aUFkMXVTRnlDakJybGJUVEducHRQb01QRzZBZ0o2aTM5R2FGcEE1dGtHeVdJTGVPZWM0QldZcUhjNHFIbGN4RUUyTWFWOEtiODA1Mm1vaUNQd1BwZlVic2JRcHVTX1JfbDVkckZWLUlvX19uWk9ONVB3TzdCM3BiaFhDR1dpMG44Sy1ObHNKSzlMWEc2QlNTYXp0TWF4eXZoNUd2SlExRWJJbkpvNE1ZTEptMVI4UGloOHlLRXpqaTUtMTdtRU45SndkZk9iQVNJT0pTNVdPaXJTVTZ1dzA4RkF6OGZaY1RTMk1sTGs4Y2g3TXFyVllRdFRTaWw4MjZXN2R1Z0hrSXU2dUZNYTJSR1dPa3U5emhCVG41TmYtUjRRelh3Wk9SLVllcWRIeFdxUVJlTXI3eEtMNHpPZ0ZablNzcG14V0lHWFFrdXdjNWgtMHFEQUI1TFVrSjhQOVVxZ29MajJMVmhlMGhYUkhBSWx2QU56YkJPMDh1VXFCc0NGU3RZSjhubFE2dUlPc0xzalZaN25FR0FWTlR4ZXh6ZmJNcGpOaGRicHZia0x3RkNuOXdlbnQtWUpuazF0WnR6bTgyODdtN0szN3FCMFM1TFBhdTlBT2t5dGViaW5OOVhTRlgxX21lQ1ZhNEJ0SXlQdFJqdDVnbXRwUDZuNXNUYnZiejNocDBTVXR5V25zeUxuckh2OUZ4TjlLVlpXUk1KRzhxem5yYVFJN2RRb2dzNXM5Zmgwc3dGN2JCVUNwMTRSY0hBbnp3VVREME1KSmNjcFM2X3JOYXJSX21iajRtTEVFOXFpOVM0WjN2UFVwTUctcFhGQ2t1N1RSU2ZDbDZwSUVUQ3JoSk8yZVhKcGlNSmlKSVJ1R0Q0MGFtNDdzdmJMUDJ3WVhONFNKSUxHV0JQT1hkWVdMVHg4MmRuSTJXT2xrYjByU01ZRjdza3dWTE9zNVpHbXdYdXFFQ0g2YVBHckEtaVFRVkpMenljUVJpRTJ0S3FDU3lMcUo4Z2lhV3dPX2VjSzBQVmFZUUk5QTZ4eElYUnhTOEFXZnJJN1pzbEJRRGlzS29fYk1aMWtiVnFfemVyak1panNrRTY2ekhTcmNjeUQzWEppaUxQSWdvaE9RN0FvdjNtNDVxWDJMZmdTY0xLeHJaOE1NOWR6QWpITUVfal9ySVVyUUlyQ2tqWjRqdDVzWHg5X1FTTy0yeEJSenh5SXdEeDJhNFYyZkgySXNLTjBobkNIeGZGNGNZQWRZVmNLeDl3V1IwZ3hSTGtEcUdzejFFUVhDcF9vS21xTjBIZUYtenlBLXltMm95azJ4U0Vmb2dqZXZrUWZ2eGRRZ2hCVVdtY3dMNW1YWmFONDcwWFNLMmFIN2JJRzl4dTcyUDh0eEtHZl81Q2xVejB5VmthVC1JMTJZY3llVkFQZjJtQXJSYmxyTGFvYk94YTJIWWxkRk9nUDNVSkdZOUJLckUzTkE1UDVDVGZqVGt4SjFPelFUOGV3WEhBT1FCUTlvVWpsdmdaMWVoV0hWeGVXZmM2QjR4T05VZVVPRlV4NlVJMWRyTlM4ZVpZQTVRQWdSTlVfM2hEN09ybEEwXzh6VGU0TGczVUNmNFhnT0psRUFZbzFtMlFmYm45d2FOMUg4bnBMeFNqX0lDZzRpQ2VRMW51LTRwLXFBNzliS1RRQ1JpNE8wYjVvYUlZS0NvRTZpSkNwUkVPelFsWkZ0SGItU2xidEtZc3pwaHd4RE95VVpKS09uN0lDS2pkRUV5S1ZZek9yaHlVYXlpS3VfVVN0bkQ4M3owOGlkLVFLaXhWVUcxYkM2dG1ISGtqVzZ2dUJDakRERlZTTW5mX1hpdjI0MU53NWpVMXhKRTVEZ3h1VUs5OXBtTmxiUlNoQ3NLWFN6R3B0RDAyQ2Q5cjlkVTJrb1picng3bGVxU2I4Z04wVHM5bHBaLXZIQmd1UEEyRV8xMjNyX1UzQlhaem4tZ0Y3akx6Z3BlcS00bkN6QVdYQ09fSWV1aGU4aXN5ZUJKZDBLd0ZGN0xwU0JBNU5MUGNOX3F4cWp2S3pGVXRIQi1UVmZHZXRHWkE3bl8zOTI2bG45M05yalBtOXVBdFUzS0ZYZlRzamd1cF9qUHM0WkFBb0ZFV2FNNlNzR2VXaVU0MFdIYS00aXVkck9XQ05FUmxHU3JhZ1h6QmdDem1oSFFCTXBiUTlscE82ZnJEWC1pdUFHbjZ2S2NnYUh3SG9iZXNNdW9zb2RnYXhPNWNjdEcxU2FyRHY1TGpYWHRKNGFQb0tPczBOdTNUSDhOVFczc053dGVoZVZIby13UzhxaGFfZ1pCSXA4RDREa2dEVXB3M1R6bWI2b0VtT1I5VXVQazJBVXJuWEJUaGo3b1hPTmx3OThvQURBcERONGowejZRNm5najdvTy1zZlBNdjgtZ0twRGh1ZlZ0dW1qTFh6Qk5rb09xalotQ2VKYlB0enVPUFc5VmlqMmc0dkdPV1d3TWNUZHhxeFFqcDh5VExxVllERm1rTjdDR1VMOHREa0FxQ2FQSmk4TE1XVGREVGpiam5JdUVwX1VDU1ZmdEFQTzBBYWhjMGp5VW9Zb2c0YXlSMms1U2VLWXo5Sm0tOENUOUwyYnV2aGt1VTRjdm5GVkppaDRVaThrMkc3ZHVMMXBUemE0N0RPMlRiSFY1dUc2SUtpRzl3d0NaSnZLSlJueDRrbDdKOWNGOHhLMEEtZ3c0TThzUE9tZ2RHcE8xbkd5c2dZUnQzY3NNU24yT2VyQ19oUElEU2J5MmN2UTRiV2hSTDJhYk5WR3BVbUtBYkp3N25SalNqWU5oWmxEWjNLSGRvZ25XdUVJdG1FOE9ueDM0VTV5S1FXM0dyazFfbFNEV1ZsT3pRZUd1WjlPNkRBNTBfcm5qVzA3d0lxaVZvMndNWlBKcHoybDNTdFpMY0ZLWl9oNVYzMnFKcEJ3b3ZVTU9OMDFBZFZOcnE1aGxEZGVsV1ZmSHd3WDZxT0NHMUtwVHRFNGVwWVBneHU0TnVneXpKQ0FIWHR5Z0t3Wm5EOHVONkZiaEJ5NXR3ZDJnaUFkZ0pxeVd6YktxUUFHZXFFV0lYMGRZclNSRVo0QnhnSXRQQ1M0b19MZnJUcWN4Rk1KTnhuN3JsbVRaQkZxVDdBaDVFRlNFUm84X3B2NEtTTm5yYzZyY3pDWVBMa0M5UTNNVjlNU2gzMzRBY3V6NEo4QVFiekoyMkNRYmdjM0hCZmJ4RVFhVHdTMGNlcjRRNlJiREZEaW52NkdERDNZZmFDOXZMNVVlQXVXblFoNzROSkQtMkZBNUpYbENhQWQyNmVkeFZWU3BrUjFkU0hwVVBMSV9kSzVydVptRzdEOHh0cUhndmllanlmenlOMkEyVFVZRTNZVUozdThwalBLZWRwTGVCVUhFR3M2Rm9mdmgyeUtRaG9XMGoxUDljdER3UGhoZGIzNWhXdkZpSDdvcG5oSkZyOUliNjlWcHFxTnExVHhMYnJ4SkY0TU5ZcWw5eXpaRXgtMEtmekhJalpudF9WTVNlX3NtSVBNQkVHbGhJdWN2cEpHS2F0dmh0OTlMSzA2S3gyOVJvaUczV2VvTVJyRnVTUmNEcldaVG5IS1k1dkJydDRGWkNYdHZZWE5DaVlBMnlLQnNBUG9QekxqQXBwR1E5dFI4bjVjeWhNNUxES1hMNmJvdm9iQTRCdUcxZ0k4VDBxLU5Jak9QUGJfQkdOS09QcnNDZFdrRXVsYUU0ZThBRlZCN3JYUkdPX1dCYndkQXJXb2FiLWJwN3JWaS1xYXV6ZHk2OEdMRVFidTM0NkNxQkZHZzktb2JtWmU4djBFclpadF9yMEtrVEFlUlpUOEc0ckc2anh2dDFSVmFYczJUU2p4dk5iZENuOUNEMVBac21kNXVfVzZzTzh6R2NjVmNFMGJUTk5fMTVYaFlwT1NqY2pQMmU3a2VOeWRRa1VvZUJrZlNteXlNa2kydUw5TGJra29OcjF4RmVnbjRWUnpibDN5bzhvMFBlR0w2NDZXMFlJWkNCR1FKNUdJRGZ0ZDdDRnI4Y056RURQeGgwYnZDTjE2WEIyZFBfZlEzRFRCNUhJbjRESGExOWlyNEpJN0lDWGlWcmhnRDF0aHU3a0w3TDRSeHhTM1NvTW1YTmEzRjcxSEhQTHIySHVpNG9OODd2N2tIYVZpdnpPa0FmekZMckI5aTFLcWhkMEFVMzZsTWtLaGhVbjJXZXNFOU9kcXNWSFYtZ3Bpc2ZDM2wyeE94VkNTekNXQWtrb0RHams5bHc2ckxfWXBaWEpKT1o0dFRndkd1OEtvaDVfN0diNklZN0ZTNld2a2tEalNLNjJ1T25RVGM2d1VDVFRQcDdVanRGV2c5akJUVUpuUTRTYU9IN2NPVGxsV1ZyOVZTOVAzNDZrY2pHbUdzNU00LU9PSWloY21McVFkdWtSeW9FcTFnbWlwT2RwNVJqcU9mZDhGLVJwRHR0Szhyd3RyR2pSX1ExZHJJamE5UEN5eTItclJkb21BMnFHUTVtYUJQbnVRV3p6dTNVSTZKNzQwejQzVEdZQXBralgyRUVocVZvNEtJYzQ1UWZPNnVFaEFTN2tyR3FxVmJUR01OQlFBOWdzRFg3ZVhWUlFzX3lTMmlaRXl1d3RsdmZzOGJLQl9ObUtSNDk1OFNmdi16R1pkT1cwUHJISHZ5c3Jsa2lvZGszQ0RaeVdmOW1hM3R1b2VlRWQ2bk9CaEJuc1N5Yk9oYjk2M2IxVl9jQnFDTGs5V0E2MUpBX0lGaFRoQzJNb3VFbXhFWUx4bXNKNi1BMEtmUnZQNXVXR051cnh2RkRDNzBfay1XN1owZjdMTGVMbmd0SlV2cGE4X2I3RHJndC1mX0FSS19jODM3UXRiMVRfZ01ac3VfSjlhcGpiblhTd0VtOEUxZ0xpckxjanpyelFLLWl0RG5obVkxWXdwNFVIUUh0elBUOTRHT3RFNUsyNVUySjdVOHhaa3o3Rl9TZ1NKVlRBOF81aEJ0UV9za0tfNlNPekxSOFMxTnQ5cUVOZXhkamJXQzBqakNET1Z4ZUJuLW1hVG1YalZwQjlBLU1tV09OTXc5OXZJejJOcWJsU3BISktkSTRoWFNzbTFjMV9VeHM4SEkxVjAyZEthUWpiYzJMRE5rckx2REZkVHpFbUJZT1VsSHVpSnRtdWQ1b2RjTGJSU2Q4NVZYNEt2akpJSVZkSnlMd2x3b1IyWkwzZlduTjV0Nkl4UVlhektKLU5JaVFGVFp4LWxhaXJNa05YR3BwOTNtVno4bnZMa2wyNTdxdllRcy03NlF0U3VjOUdLaGZPVzJYVTFwSU9hc2VrWm9LTThvWmc9PQ==)"
  artifacts: &androidArtifacts # Section def
    - emulator.log
    - scrolls-lib/build/reports
    - scrolls-lib/build/outputs/androidTest-results
    - scrolls-lib/build/outputs/logs
    - scrolls-lib/build/outputs/aar/*.aar
    - scrolls-sample-java/build/outputs/apk/**/*.apk
  debug-emails: &debugEmails
    - harri.kirik@lab.mobi
  release-emails: &releaseEmails
    - harri.kirik@lab.mobi
  scripts:
    # Local setup
    - &stepLocalSetup
      name: Set up local properties and permissons
      script: |
        chmod +x gradlew
        echo "sdk.dir=$HOME/programs/android-sdk-macosx" > "$FCI_BUILD_DIR/local.properties"
    # Build DEBUG
    - &stepBuildDebug
      name: Build Debug
      script: ./gradlew buildAllDebug
    # Build RELEASE
    - &stepBuildRelease
      name: Build Release
      script: ./gradlew buildAllRelease
    # Build PUBLISH
    - &stepBuildPublish
      name: Build Release and Publish
      script: |
        echo $PUBLISH_PROPS | base64 --decode > publish.properties
        ./gradlew buildAndPublishRelease

# Flows
workflows:
  release-builds:
    name: Release builds (master branch only)
    scripts:
      - name: Check 'master' branch
        script: if [ "$FCI_BRANCH" != "master" ]; then exit 1; fi
      - *stepLocalSetup
      - *stepBuildRelease
    publishing:
      email:
        recipients: *releaseEmails
    artifacts: *androidArtifacts
  publish-builds:
    name: Release and publish builds (master branch only)
    environment:
      vars: *publishEnvironment
    scripts:
      - name: Check 'master' branch
        script: if [ "$FCI_BRANCH" != "master" ]; then exit 1; fi
      - *stepLocalSetup
      - *stepBuildPublish
    publishing:
      email:
        recipients: *releaseEmails
    artifacts: *androidArtifacts
  develop-builds:
    name: Dev builds
    triggering:
      events:
        - push
        - pull_request
      branch_patterns:
        - pattern: 'develop'
          include: true
          source: true
    scripts:
      - *stepLocalSetup
      - *stepBuildDebug
    artifacts: *androidArtifacts
    publishing:
      email:
        recipients: *debugEmails
  merge-requests:
    name: Merge requests
    triggering:
      events:
        - pull_request
      branch_patterns:
        - pattern: 'develop'
          include: true
          source: false
      cancel_previous_builds: true
    scripts:
      - *stepLocalSetup
      - *stepBuildDebug
    publishing:
      email:
        recipients: *debugEmails
        notify:
          success: false
